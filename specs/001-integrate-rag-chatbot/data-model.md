# Data Model: RAG Chatbot Integration

## Entities

### Book Document
**Description**: Represents a chapter or section of the Physical AI Book, after being processed for RAG.
**Attributes**:
-   `id`: String (Unique identifier for the document chunk)
-   `text_content`: String (The actual text content of the chunk)
-   `chapter`: String (The chapter from which the content originates)
-   `section`: String (The specific section within the chapter)
-   `vector_embedding`: Array of Floats (The numerical representation of the text content for semantic search)
**Relationships**:
-   Associated with `Chatbot Response` via `source_embeddings_ids`.

### User Query
**Description**: Represents a question or prompt submitted by the user to the RAG chatbot.
**Attributes**:
-   `id`: String (Unique identifier for the query)
-   `user_id`: String (Identifier for the user, if available; can be anonymous)
-   `query_text`: String (The natural language question from the user)
-   `timestamp`: Datetime (When the query was submitted)
-   `selected_context_text`: String (Optional; text selected by the user for context-specific querying)
**Relationships**:
-   Generates `Chatbot Response`.
-   Part of a `Conversation`.

### Chatbot Response
**Description**: Represents the answer generated by the RAG chatbot in response to a user query.
**Attributes**:
-   `id`: String (Unique identifier for the response)
-   `query_id`: String (References the `User Query` that prompted this response)
-   `response_text`: String (The generated natural language answer)
-   `timestamp`: Datetime (When the response was generated)
-   `citations`: Array of Objects (List of source locations in the book)
    -   `chapter`: String
    -   `section`: String
-   `source_embeddings_ids`: Array of Strings (References to `Book Document` IDs that informed the response)
**Relationships**:
-   Linked to `User Query`.
-   References `Book Document` chunks.
-   Part of a `Conversation`.

### Conversation
**Description**: Represents a continuous interaction session between a user and the RAG chatbot.
**Attributes**:
-   `id`: String (Unique identifier for the conversation)
-   `user_id`: String (Identifier for the user; can be anonymous)
-   `start_time`: Datetime (When the conversation began)
-   `end_time`: Datetime (When the conversation ended or was last active)
**Relationships**:
-   Contains multiple `User Query` and `Chatbot Response` pairs.
